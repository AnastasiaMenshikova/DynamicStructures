#include "stdafx.h"
#include "list.h"
#include <iostream>
#include <clocale>
#include <ctype.h>
#include <cstring>


using namespace std;

Node *First(int val)
{
	Node *pv = new Node;
	pv->val = val; //(*pv).val
	pv->p = NULL;
	return pv;
}

void add(Node **pend, int val)
{
	Node *pv = new Node;
	pv->val = val;
	pv->p = NULL;
	(*pend)->p = pv;
	*pend = pv;
}

Node* find(Node *const pbeg, int val){
	Node *pv = pbeg;
	while (pv){
		if (pv->val == val) break;
		pv = pv->p;
	}
}

int del(Node **pbeg)
{

	int temp = (*pbeg)->val;
	Node *pv = *pbeg;
	*pbeg = (*pbeg)->p;
	delete pv;
	return temp;
}
bool del2(Node **pbeg, int key){
	Node *pkey;
	if (pkey == find(*pbeg, key)){
		if (pkey == *pbeg)
			*pbeg = (*pbeg)->p;
		else {
			Node *pv = *pbeg;
			while (pkey != pv->p)
				pv = pv->p;
			(pv)->p = pkey->p;
		}
		delete pkey;
		return true;
	}
	else return false;
}
Node *insert(Node *const pbeg){

}


void print(Node **pbeg)
{
	Node *tmp = (*pbeg)->p;

	printf("%d ", (*pbeg)->val);
	while (tmp != NULL)
	{
		printf("%d ", tmp->val);
		tmp = tmp->p;
	}
	cout << endl;

}

void menu()
{
	setlocale(LC_ALL, "Russian");

	Node *pbeg = NULL;
	Node *pend = NULL;
	{

		char t;
		int first_el;
		int el = 0;
		do
		{
			cout << "***QUEUE***" << endl << endl;
			cout << "1. Добавить первый элемент в очередь\n";
			cout << "2. Добавить новый элемент в очередь\n";
			cout << "3. Удалить первый элемент из очереди\n";
			cout << "4. Распечатать элемент(ы) очереди\n\n";
			cout << "Выберите число и нажмите ENTER\n";
			cin >> t;
			isdigit(t);
			int c;
			c = t - '0';
			//double atof(const char *t);
			if (c >=0 && c < 5)
			//if (t >= 0 && t < 5)
			{
				
				switch (c)
				{
				case 1:
					if (pbeg == NULL)
					{
						cout << "Создайте первый элемент\n\n";
						cin >> first_el;

						pbeg = First(first_el);
						pend = pbeg;
					}
					else 
					{ 
						cout << "Ошибка! Первый элемент существует!\n\n";
					    system("pause");
					}
					system("CLS");
					break;

				case 2:
					if (pbeg != NULL){
						cout << "Напишите новый элемент\n\n";
						cin >> el;
						add(&pend, el);
					}
					else { 
						cout << "Ошибка! Нужно добавить первый элемент!\n\n"; 
						system("pause");
					}
					system("CLS");
					break;
				case 3:
					if (pbeg != NULL){
						del(&pbeg);
						cout << "Элемент был удален из очереди\n\n";
					}
					else {
						cout << endl;
						cout << "Ошибка! Очередь пуста!\n\n";
					}
					system("pause");
					cout << endl;
					system("cls");
					break;
				case 4:
					cout << "Распечатаная очередь\n\n";
					print(&pbeg);
					cout << endl;
					system("pause");
					cout << endl;
					system("cls");
					break;
				}
			}
			else
			{
				cout << endl;
				cout << "Неверное значение! Введиите число от 1 до 4" << endl << endl;
				system("pause");
				cout << endl;
				system("cls");
				
				
			}
		} while (1);


	}

}
